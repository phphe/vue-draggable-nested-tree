/*!
 * vue-draggable-nested-tree v2.2.18
 * (c) 2018-present phphe <phphe@outlook.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.vueDraggableNestedTree={})}(this,function(t){"use strict";var e=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},n=function(t){return Object(e(t))},r={}.hasOwnProperty,o=function(t,e){return r.call(t,e)},i={}.toString,a=function(t){return i.call(t).slice(8,-1)},c=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)},u=function(t){return c(e(t))},l=Math.ceil,s=Math.floor,d=function(t){return isNaN(t=+t)?0:(t>0?s:l)(t)},f=Math.min,p=Math.max,h=Math.min;function g(t,e){return t(e={exports:{}},e.exports),e.exports}var v,y=g(function(t){var e=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)}),m=(y.version,g(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),b=g(function(t){var e=m["__core-js_shared__"]||(m["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:y.version,mode:"pure",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),_=0,N=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++_+N).toString(36))},O=b("keys"),T=function(t){return O[t]||(O[t]=S(t))},x=(v=!1,function(t,e,n){var r,o,i=u(t),a=(r=i.length)>0?f(d(r),9007199254740991):0,c=function(t,e){return(t=d(t))<0?p(t+e,0):h(t,e)}(n,a);if(v&&e!=e){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((v||c in i)&&i[c]===e)return v||c||0;return!v&&-1}),E=T("IE_PROTO"),w="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),P=Object.keys||function(t){return function(t,e){var n,r=u(t),i=0,a=[];for(n in r)n!=E&&o(r,n)&&a.push(n);for(;e.length>i;)o(r,n=e[i++])&&(~x(a,n)||a.push(n));return a}(t,w)},k=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},j=function(t){return"object"==typeof t?null!==t:"function"==typeof t},L=function(t){if(!j(t))throw TypeError(t+" is not an object!");return t},A=function(t){try{return!!t()}catch(t){return!0}},I=!A(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),C=m.document,M=j(C)&&j(C.createElement),R=function(t){return M?C.createElement(t):{}},F=!I&&!A(function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a}),D=Object.defineProperty,B={f:I?Object.defineProperty:function(t,e,n){if(L(t),e=function(t,e){if(!j(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!j(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!j(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!j(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),L(n),F)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},$=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},H=I?function(t,e,n){return B.f(t,e,$(1,n))}:function(t,e,n){return t[e]=n,t},V=function(t,e,n){var r,i,a,c=t&V.F,u=t&V.G,l=t&V.S,s=t&V.P,d=t&V.B,f=t&V.W,p=u?y:y[e]||(y[e]={}),h=p.prototype,g=u?m:l?m[e]:(m[e]||{}).prototype;for(r in u&&(n=e),n)(i=!c&&g&&void 0!==g[r])&&o(p,r)||(a=i?g[r]:n[r],p[r]=u&&"function"!=typeof g[r]?n[r]:d&&i?k(a,m):f&&g[r]==a?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):s&&"function"==typeof a?k(Function.call,a):a,s&&((p.virtual||(p.virtual={}))[r]=a,t&V.R&&h&&!h[r]&&H(h,r,a)))};V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;var G=V;!function(t,e){var n=(y.Object||{})[t]||Object[t],r={};r[t]=e(n),G(G.S+G.F*A(function(){n(1)}),"Object",r)}("keys",function(){return function(t){return P(n(t))}});var W=y.Object.keys,q=g(function(t){var e=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)}),Y=(q.version,g(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),U=g(function(t){var e=Y["__core-js_shared__"]||(Y["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:q.version,mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),z=0,X=Math.random(),J=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++z+X).toString(36))},K=g(function(t){var e=U("wks"),n=Y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:J)("Symbol."+t))}).store=e}),Q=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Z=function(t){if(!Q(t))throw TypeError(t+" is not an object!");return t},tt=function(t){try{return!!t()}catch(t){return!0}},et=!tt(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),nt=Y.document,rt=Q(nt)&&Q(nt.createElement),ot=function(t){return rt?nt.createElement(t):{}},it=!et&&!tt(function(){return 7!=Object.defineProperty(ot("div"),"a",{get:function(){return 7}}).a}),at=function(t,e){if(!Q(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Q(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Q(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Q(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},ct=Object.defineProperty,ut={f:et?Object.defineProperty:function(t,e,n){if(Z(t),e=at(e,!0),Z(n),it)try{return ct(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},lt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},st=et?function(t,e,n){return ut.f(t,e,lt(1,n))}:function(t,e,n){return t[e]=n,t},dt=K("unscopables"),ft=Array.prototype;null==ft[dt]&&st(ft,dt,{});var pt=function(t){ft[dt][t]=!0},ht=function(t,e){return{value:e,done:!!t}},gt={},vt={}.toString,yt=function(t){return vt.call(t).slice(8,-1)},mt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==yt(t)?t.split(""):Object(t)},bt=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},_t=function(t){return mt(bt(t))},Nt={}.hasOwnProperty,St=function(t,e){return Nt.call(t,e)},Ot=g(function(t){var e=J("src"),n=Function.toString,r=(""+n).split("toString");q.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,i){var a="function"==typeof o;a&&(St(o,"name")||st(o,"name",n)),t[n]!==o&&(a&&(St(o,e)||st(o,e,t[n]?""+t[n]:r.join(String(n)))),t===Y?t[n]=o:i?t[n]?t[n]=o:st(t,n,o):(delete t[n],st(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),Tt=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},xt=function(t,e,n){var r,o,i,a,c=t&xt.F,u=t&xt.G,l=t&xt.S,s=t&xt.P,d=t&xt.B,f=u?Y:l?Y[e]||(Y[e]={}):(Y[e]||{}).prototype,p=u?q:q[e]||(q[e]={}),h=p.prototype||(p.prototype={});for(r in u&&(n=e),n)i=((o=!c&&f&&void 0!==f[r])?f:n)[r],a=d&&o?Tt(i,Y):s&&"function"==typeof i?Tt(Function.call,i):i,f&&Ot(f,r,i,t&xt.U),p[r]!=i&&st(p,r,a),s&&h[r]!=i&&(h[r]=i)};Y.core=q,xt.F=1,xt.G=2,xt.S=4,xt.P=8,xt.B=16,xt.W=32,xt.U=64,xt.R=128;var Et=xt,wt=Math.ceil,Pt=Math.floor,kt=function(t){return isNaN(t=+t)?0:(t>0?Pt:wt)(t)},jt=Math.min,Lt=function(t){return t>0?jt(kt(t),9007199254740991):0},At=Math.max,It=Math.min,Ct=U("keys"),Mt=function(t){return Ct[t]||(Ct[t]=J(t))},Rt=function(t){return function(e,n,r){var o,i=_t(e),a=Lt(i.length),c=function(t,e){return(t=kt(t))<0?At(t+e,0):It(t,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}}(!1),Ft=Mt("IE_PROTO"),Dt=function(t,e){var n,r=_t(t),o=0,i=[];for(n in r)n!=Ft&&St(r,n)&&i.push(n);for(;e.length>o;)St(r,n=e[o++])&&(~Rt(i,n)||i.push(n));return i},Bt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$t=Object.keys||function(t){return Dt(t,Bt)},Ht=et?Object.defineProperties:function(t,e){Z(t);for(var n,r=$t(e),o=r.length,i=0;o>i;)ut.f(t,n=r[i++],e[n]);return t},Vt=Y.document,Gt=Vt&&Vt.documentElement,Wt=Mt("IE_PROTO"),qt=function(){},Yt=function(){var t,e=ot("iframe"),n=Bt.length;for(e.style.display="none",Gt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Yt=t.F;n--;)delete Yt.prototype[Bt[n]];return Yt()},Ut=Object.create||function(t,e){var n;return null!==t?(qt.prototype=Z(t),n=new qt,qt.prototype=null,n[Wt]=t):n=Yt(),void 0===e?n:Ht(n,e)},zt=ut.f,Xt=K("toStringTag"),Jt=function(t,e,n){t&&!St(t=n?t:t.prototype,Xt)&&zt(t,Xt,{configurable:!0,value:e})},Kt={};st(Kt,K("iterator"),function(){return this});var Qt=function(t,e,n){t.prototype=Ut(Kt,{next:lt(1,n)}),Jt(t,e+" Iterator")},Zt=function(t){return Object(bt(t))},te=Mt("IE_PROTO"),ee=Object.prototype,ne=Object.getPrototypeOf||function(t){return t=Zt(t),St(t,te)?t[te]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ee:null},re=K("iterator"),oe=!([].keys&&"next"in[].keys()),ie=function(){return this},ae=function(t,e,n,r,o,i,a){Qt(n,e,r);var c,u,l,s=function(t){if(!oe&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f="values"==o,p=!1,h=t.prototype,g=h[re]||h["@@iterator"]||o&&h[o],v=g||s(o),y=o?f?s("entries"):v:void 0,m="Array"==e&&h.entries||g;if(m&&(l=ne(m.call(new t)))!==Object.prototype&&l.next&&(Jt(l,d,!0),"function"!=typeof l[re]&&st(l,re,ie)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(oe||p||!h[re])&&st(h,re,v),gt[e]=v,gt[d]=ie,o)if(c={values:f?v:s("values"),keys:i?v:s("keys"),entries:y},a)for(u in c)u in h||Ot(h,u,c[u]);else Et(Et.P+Et.F*(oe||p),e,c);return c}(Array,"Array",function(t,e){this._t=_t(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ht(1)):ht(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");gt.Arguments=gt.Array,pt("keys"),pt("values"),pt("entries");for(var ce=K("iterator"),ue=K("toStringTag"),le=gt.Array,se={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},de=$t(se),fe=0;fe<de.length;fe++){var pe,he=de[fe],ge=se[he],ve=Y[he],ye=ve&&ve.prototype;if(ye&&(ye[ce]||st(ye,ce,le),ye[ue]||st(ye,ue,he),gt[he]=le,ge))for(pe in ae)ye[pe]||Ot(ye,pe,ae[pe],!0)}var me={f:Object.getOwnPropertySymbols},be={f:{}.propertyIsEnumerable},_e=Object.assign,Ne=!_e||A(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=_e({},t)[n]||Object.keys(_e({},e)).join("")!=r})?function(t,e){for(var r=n(t),o=arguments.length,i=1,a=me.f,u=be.f;o>i;)for(var l,s=c(arguments[i++]),d=a?P(s).concat(a(s)):P(s),f=d.length,p=0;f>p;)u.call(s,l=d[p++])&&(r[l]=s[l]);return r}:_e;G(G.S+G.F,"Object",{assign:Ne});var Se=y.Object.assign,Oe={f:{}.propertyIsEnumerable},Te=Object.getOwnPropertyDescriptor,xe={f:et?Te:function(t,e){if(t=_t(t),e=at(e,!0),it)try{return Te(t,e)}catch(t){}if(St(t,e))return lt(!Oe.f.call(t,e),t[e])}},Ee=function(t,e){if(Z(t),!Q(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},we={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=Tt(Function.call,xe.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return Ee(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:Ee}.set,Pe=Bt.concat("length","prototype"),ke={f:Object.getOwnPropertyNames||function(t){return Dt(t,Pe)}},je="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Le="["+je+"]",Ae=RegExp("^"+Le+Le+"*"),Ie=RegExp(Le+Le+"*$"),Ce=function(t,e,n){var r={},o=tt(function(){return!!je[t]()||"​"!="​"[t]()}),i=r[t]=o?e(Me):je[t];n&&(r[n]=i),Et(Et.P+Et.F*o,"String",r)},Me=Ce.trim=function(t,e){return t=String(bt(t)),1&e&&(t=t.replace(Ae,"")),2&e&&(t=t.replace(Ie,"")),t},Re=Ce,Fe=ke.f,De=xe.f,Be=ut.f,$e=Re.trim,He=Y.Number,Ve=He,Ge=He.prototype,We="Number"==yt(Ut(Ge)),qe="trim"in String.prototype,Ye=function(t){var e=at(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=qe?e.trim():$e(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,c=e.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+e};if(!He(" 0o1")||!He("0b1")||He("+0x1")){He=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof He&&(We?tt(function(){Ge.valueOf.call(n)}):"Number"!=yt(n))?function(t,e,n){var r,o=e.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&Q(r)&&we&&we(t,r),t}(new Ve(Ye(e)),n,He):Ye(e)};for(var Ue,ze=et?Fe(Ve):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Xe=0;ze.length>Xe;Xe++)St(Ve,Ue=ze[Xe])&&!St(He,Ue)&&Be(He,Ue,De(Ve,Ue));He.prototype=Ge,Ge.constructor=He,Ot(Y,"Number",He)}function Je(t,e){return 1===arguments.length&&(e=t,t=0),Math.floor(Math.random()*(e-t+1)+t)}function Ke(t,e){for(var n,r=0;(n=t.indexOf(e))>-1;)t.splice(n,1),r++;return r}function Qe(t){var e=t.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var t=document.body,e=document.documentElement;return{top:(e=e.clientHeight?e:t).scrollTop,left:e.scrollLeft}}();return{x:e.left+n.left,y:e.top+n.top}}function Ze(t){for(var e=function(t){var e=t.offsetParent;return(!e||e===document.body&&"static"===getComputedStyle(document.body).position)&&(e=document.body.parentElement),e}(t),n={x:t.offsetLeft,y:t.offsetTop},r=t;(r=r.parentElement)!==e&&r;)n.x-=r.scrollLeft,n.y-=r.scrollTop;return n}function tn(t,e){t["original_".concat(e)]=t.getAttribute(e)}function en(t,e){var n="original_".concat(e);t.setAttribute(e,t[n])}function nn(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function rn(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.addEventListener?t.addEventListener.apply(t,[e,n].concat(o)):t.attachEvent&&t.attachEvent.apply(t,["on".concat(e),n].concat(o))}function on(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];t.removeEventListener?t.removeEventListener.apply(t,[e,n].concat(o)):t.detachEvent&&t.detachEvent.apply(t,["on".concat(e),n].concat(o))}function an(t,e,n,r,o){var i,a,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;null==n&&(n=0,r=t.length-1);for(var u,l=0;n>=0&&n<=r;){if(l>=c)throw Error("binarySearch: loop times is over ".concat(c,", you can increase the limit."));if((u=e(a=t[i=Math.floor((r-n)/2+n)],l))>0)r=i-1;else{if(!(u<0))return{index:i,value:a,count:l+1,hit:!0};n=i+1}l++}return o?{index:i,value:a,count:l+1,hit:!1,bigger:u>0}:null}var cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function un(t,e){var n,r=arguments[3],o=(n=t,"[object Array]"===Object.prototype.toString.call(n)?t:[t]).map(function(t,e){return{item:t,index:e}});r&&o.reverse();for(var i=function(){var t=o.shift(),n=t.item,i=t.index,a=t.parent,c=e(n,i,a);if(!1===c)return{v:void 0};if("skip children"===c)return"continue";if("skip siblings"===c&&(o=o.filter(function(t){return t.parent!==a})),n.children){var u,l=n.children;r&&(l=l.slice()).reverse();var s=l.map(function(t,e){return{item:t,index:e,parent:n}});(u=o).push.apply(u,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s))}};o.length;){var a=i();switch(a){case"continue":continue;default:if("object"===(void 0===a?"undefined":cn(a)))return a.v}}}function ln(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";t[r]&&Ke(t[r][n],t),t[r]=e}function sn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(t!==e){var o=e[r][n],i=o.indexOf(e);o[i+1]!==t&&(t[r]===e[r]?(Ke(o,t),i=o.indexOf(e)):ln(t,e[r]),o.splice(i+1,0,t))}}function dn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(t===e)throw"can't append to self";var r=e[n];r[r.length-1]!==t&&(ln(t,e),r.push(t))}var fn=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="TreeNode.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tree-node",class:[t.data.active?t.store.activatedClass:"",t.data.open?t.store.openedClass:"",t.data.class],style:t.data.style,attrs:{id:t.data._id}},[t.isRoot?t._e():t._t("node-inner-back",[n("div",{staticClass:"tree-node-inner-back",class:[t.data.innerBackClass],style:[t.innerBackStyle,t.data.innerBackStyle]},[n("div",{staticClass:"tree-node-inner",class:[t.data.innerClass],style:[t.data.innerStyle]},[t._t("default",null,{data:t.data,store:t.store,vm:t.vm})],2)])],{styleObj:t.innerBackStyle,data:t.data,store:t.store,vm:t.vm}),n("transition",{attrs:{name:t.store.childrenTransitionName}},[t.childrenVisible?n("div",{staticClass:"tree-node-children"},t._l(t.data.children,function(e){return n("TreeNode",{key:e._id,attrs:{data:e,store:t.store,level:t.childrenLevel},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{data:e.data,store:e.store,vm:e.vm})]}},{key:"node-inner-back",fn:function(e){return t.store.customInnerBack?[t._t("node-inner-back",null,{styleObj:e.styleObj,data:e.data,store:e.store,vm:e.vm})]:void 0}}])})}),1):t._e()])],2)},staticRenderFns:[]},0,{name:"TreeNode",props:{data:{},store:{},level:{default:0}},data:function(){return{vm:this}},computed:{childrenLevel:function(){return this.level+1},isRoot:function(){return this.data&&this.data.isRoot},childrenVisible:function(){var t=this.data;return this.isRoot||t&&t.children&&t.children.length&&t.open},innerBackStyle:function(){var t={marginBottom:this.store.space+"px"};return!this.isRoot&&this.level>1&&(t.paddingLeft=(this.level-1)*this.store.indent+"px"),t}},watch:{data:{immediate:!0,handler:function(t){t&&(t._vm=this,t._treeNodePropertiesCompleted||t.isRoot||this.store.compeleteNode(t,this.$parent.data))}}}},void 0,!1);var pn,hn,gn,vn=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="Tree.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"he-tree tree"},[n("TreeNode",{attrs:{data:t.rootData,store:t.store},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,{data:e.data,store:t.store,vm:e.vm})]}},{key:"node-inner-back",fn:function(e){return t.customInnerBack?[t._t("node-inner-back",null,{styleObj:e.styleObj,data:e.data,store:e.store,vm:e.vm})]:void 0}}])})],1)},staticRenderFns:[]},0,{props:{data:{},idLength:{type:Number,default:5},indent:{type:Number,default:16},activatedClass:{default:"active"},openedClass:{default:"open"},space:{type:Number,default:10},childrenTransitionName:{},customInnerBack:{}},components:{TreeNode:fn},data:function(){return{store:this,rootData:null}},watch:{data:{immediate:!0,handler:function(t,e){var n=this;t!==e&&(this.rootData=this.rootData||{isRoot:!0,_id:"tree_".concat(this._uid,"_node_root"),children:[]},un(t,function(t,e,r){n.compeleteNode(t,r)}),this.rootData.children=t)}}},methods:{compeleteNode:function(t,e){var n={open:!0,children:[],active:!1,style:{},class:"",innerStyle:{},innerClass:"",innerBackStyle:{},innerBackClass:{}};for(var r in n)t.hasOwnProperty(r)||this.$set(t,r,n[r]);this.$set(t,"parent",e||this.rootData),t.hasOwnProperty("_id")||(t._id="tree_".concat(this._uid,"_node_").concat(function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)n+=r[Je(r.length-1)];return e+n}(this.idLength))),t._treeNodePropertiesCompleted=!0},pure:function(t,e,n){var r=this,o=Se({},t);delete o._id,delete o.parent,delete o.children,delete o.open,delete o.active,delete o.style,delete o.class,delete o.innerStyle,delete o.innerClass,delete o.innerBackStyle,delete o.innerBackClass;for(var i=W(o),a=0;a<i.length;a++){var c=i[a];"_"===c[0]&&delete o[c]}return e&&t.children&&(o.children=t.children.slice(),o.children.forEach(function(t,n){o.children[n]=r.pure(t,e)})),n&&n(o,t)||o},getNodeById:function(t){var e;return un(this.rootData.children,function(n){if(n._id===t)return e=n,!1}),e},getActivated:function(){var t=[];return un(this.rootData.children,function(e){e.active&&t.push(e)}),t},getOpened:function(){var t=[];return un(this.rootData.children,function(e){e.open&&t.push(e)}),t},activeNode:function(t,e){this.activated;e&&this.getActivated().forEach(function(t){t.active=!1}),t.active=!0},toggleActive:function(t,e){t.active?t.active=!1:this.activeNode(t,e)},openNode:function(t,e){var n=this;this.opened;e&&this.getOpened().forEach(function(t){t.open=!1,n.$emit("nodeOpenChanged",t)}),t.open=!0,this.$emit("nodeOpenChanged",t)},toggleOpen:function(t,e){t.open?(t.open=!1,this.$emit("nodeOpenChanged",t)):this.openNode(t,e)},getPureData:function(t){return this.pure(this.rootData,!0,t).children},deleteNode:function(t){return Ke(t.parent.children,t)}}},void 0,!1),yn=(pn=!0,function(t,e){var n,r,o=String(bt(t)),i=kt(e),a=o.length;return i<0||i>=a?pn?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?pn?o.charAt(i):n:pn?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}),mn=function(t,e,n){return e+(n?yn(t,e).length:1)},bn=K("toStringTag"),_n="Arguments"==yt(function(){return arguments}()),Nn=RegExp.prototype.exec,Sn=function(t,e){var n,r,o,i,a=t.exec;if("function"==typeof a){var c=a.call(t,e);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),bn))?o:_n?yt(r):"Object"==(i=yt(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return Nn.call(t,e)},On=RegExp.prototype.exec,Tn=String.prototype.replace,xn=On,En=(hn=/a/,gn=/b*/g,On.call(hn,"a"),On.call(gn,"a"),0!==hn.lastIndex||0!==gn.lastIndex),wn=void 0!==/()??/.exec("")[1];(En||wn)&&(xn=function(t){var e,n,r,o,i=this;return wn&&(n=new RegExp("^"+i.source+"$(?!\\s)",function(){var t=Z(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i))),En&&(e=i.lastIndex),r=On.call(i,t),En&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),wn&&r&&r.length>1&&Tn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Pn=xn;Et({target:"RegExp",proto:!0,forced:Pn!==/./.exec},{exec:Pn});var kn=K("species"),jn=!tt(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Ln=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),An=Math.max,In=Math.min,Cn=Math.floor,Mn=/\$([$&`']|\d\d?|<[^>]*>)/g,Rn=/\$([$&`']|\d\d?)/g;!function(t,e,n){var r=K(t),o=!tt(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),i=o?!tt(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[kn]=function(){return n}),n[r](""),!e}):void 0;if(!o||!i||"replace"===t&&!jn||"split"===t&&!Ln){var a=/./[r],c=n(bt,r,""[t],function(t,e,n,r,i){return e.exec===Pn?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),u=c[0],l=c[1];Ot(String.prototype,t,u),st(RegExp.prototype,r,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}("replace",2,function(t,e,n,r){return[function(r,o){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(t,e){var i=r(n,t,this,e);if(i.done)return i.value;var a=Z(t),c=String(this),u="function"==typeof e;u||(e=String(e));var l=a.global;if(l){var s=a.unicode;a.lastIndex=0}for(var d=[];;){var f=Sn(a,c);if(null===f)break;if(d.push(f),!l)break;""===String(f[0])&&(a.lastIndex=mn(c,Lt(a.lastIndex),s))}for(var p,h="",g=0,v=0;v<d.length;v++){f=d[v];for(var y=String(f[0]),m=An(In(kt(f.index),c.length),0),b=[],_=1;_<f.length;_++)b.push(void 0===(p=f[_])?p:String(p));var N=f.groups;if(u){var S=[y].concat(b,m,c);void 0!==N&&S.push(N);var O=String(e.apply(void 0,S))}else O=o(y,c,m,b,N,e);m>=g&&(h+=c.slice(g,m)+O,g=m+y.length)}return h+c.slice(g)}];function o(t,e,r,o,i,a){var c=r+t.length,u=o.length,l=Rn;return void 0!==i&&(i=Zt(i),l=Mn),n.call(a,l,function(n,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":l=i[a.slice(1,-1)];break;default:var s=+a;if(0===s)return a;if(s>u){var d=Cn(s/10);return 0===d?a:d<=u?void 0===o[d-1]?a.charAt(1):o[d-1]+a.charAt(1):a}l=o[s-1]}return void 0===l?"":l})}});var Fn={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},Dn={isTouch:function(t){return t.type&&t.type.startsWith("touch")},_getStore:function(t){return t._wrapperStore||(t._wrapperStore=[]),t._wrapperStore},on:function(t,e,n){var r,o,i=this._getStore(t),a=this,c=function(t){var r;if(a.isTouch(t))r={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY};else if(r={x:t.pageX,y:t.pageY},"start"===e&&1!==t.which)return;return n.call(this,t,r)};i.push({handler:n,wrapper:c});for(var u=arguments.length,l=new Array(u>3?u-3:0),s=3;s<u;s++)l[s-3]=arguments[s];(r=rn).call.apply(r,[null,t,Fn[e][0],c].concat(l)),(o=rn).call.apply(o,[null,t,Fn[e][1],c].concat(l))},off:function(t,e,n){for(var r=this._getStore(t),o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];for(var c=r.length-1;c>=0;c--){var u,l,s=r[c],d=s.handler,f=s.wrapper;if(n===d)(u=on).call.apply(u,[null,t,Fn[e][0],f].concat(i)),(l=on).call.apply(l,[null,t,Fn[e][1],f].concat(i)),r.splice(c,1)}}};function Bn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==e.minTranslate&&(e.minTranslate=10);var n={movedCount:0},r=function(){Dn.off(t,"end",t._draggbleEventHandler),on(t,"selectstart",c),delete t._draggbleEventHandler};return t._draggbleEventHandler&&r(),t._draggbleEventHandler=function(t,e){n.mouse={x:e.x,y:e.y},n.initialMouse=Object.assign({},n.mouse),Dn.on(document,"move",i,{passive:!1}),Dn.on(window,"end",a)},Dn.on(t,"start",t._draggbleEventHandler),rn(t,"selectstart",c),r;function o(r){var o=function(){var r=e.getEl?e.getEl(t,e):t,o=r;e.clone&&(n.triggerEl=r,o=r.cloneNode(!0),r.parentElement.appendChild(o));return{position:Ze(o),el:o}}(),i=o.el,a=o.position;if(n.el=i,n.initialPosition=Object.assign({},a),!1===(e.drag&&e.drag(r,e,n)))return!1;var c=function(t){var e=t.style.display;t.style.display="block";var n={width:t.offsetWidth,height:t.offsetHeight};return t.style.display=e,n}(i),u=Object.assign({width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:a.x+"px",top:a.y+"px"},e.style||e.getStyle&&e.getStyle(e)||{});for(var l in tn(i,"style"),u)i.style[l]=u[l];tn(i,"class"),function(t,e){nn(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}(i,e.draggingClass)}function i(t,r){n.mouse={x:r.x,y:r.y};var i=n.move={x:n.mouse.x-n.initialMouse.x,y:n.mouse.y-n.initialMouse.y};if(0===n.movedCount&&e.minTranslate){var a=Math.pow(n.move.x,2),c=Math.pow(n.move.y,2);if(Math.pow(a+c,.5)<e.minTranslate)return}var u=!0;if(0===n.movedCount&&!1===o(t)&&(u=!1),t.preventDefault(),u&&e.moving&&!1===e.moving(t,e,n)&&(u=!1),u){if(!n||!n.el)return;Object.assign(n.el.style,{left:n.initialPosition.x+i.x+"px",top:n.initialPosition.y+i.y+"px"}),n.movedCount++}}function a(t){if(Dn.off(document,"move",i,{passive:!1}),Dn.off(window,"end",a),n.movedCount>0){n.movedCount=0;var r=n.el;e.clone?r.parentElement.removeChild(r):(en(r,"style"),en(r,"class")),e.drop&&e.drop(t,e,n)}n={movedCount:0}}function c(t){t.preventDefault()}}G(G.S+G.F*!I,"Object",{defineProperty:B.f});var $n=y.Object,Hn=function(t,e,n){return $n.defineProperty(t,e,n)},Vn=ut.f,Gn=Function.prototype,Wn=/^\s*function ([^ (]*)/;function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Hn(t,r.key,r)}}"name"in Gn||et&&Vn(Gn,"name",{configurable:!0,get:function(){try{return(""+this).match(Wn)[1]}catch(t){return""}}});var Yn=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="store")in(e=this)?Hn(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"has",value:function(t){return this.store.hasOwnProperty(t)}},{key:"remember",value:function(t,e){return this.has(t)||(this.store[t]={value:e()}),this.store[t].value}},{key:"forget",value:function(t){t?this.has(t)&&delete this.store[t]:this.store={}}}])&&qn(e.prototype,n),r&&qn(e,r),t}();function Un(t){return""===t||t}var zn=function(t,e){return{value:e,done:!!t}},Xn={},Jn=H,Kn=I?Object.defineProperties:function(t,e){L(t);for(var n,r=P(e),o=r.length,i=0;o>i;)B.f(t,n=r[i++],e[n]);return t},Qn=m.document,Zn=Qn&&Qn.documentElement,tr=T("IE_PROTO"),er=function(){},nr=function(){var t,e=R("iframe"),n=w.length;for(e.style.display="none",Zn.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),nr=t.F;n--;)delete nr.prototype[w[n]];return nr()},rr=Object.create||function(t,e){var n;return null!==t?(er.prototype=L(t),n=new er,er.prototype=null,n[tr]=t):n=nr(),void 0===e?n:Kn(n,e)},or=g(function(t){var e=b("wks"),n=m.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:S)("Symbol."+t))}).store=e}),ir=B.f,ar=or("toStringTag"),cr=function(t,e,n){t&&!o(t=n?t:t.prototype,ar)&&ir(t,ar,{configurable:!0,value:e})},ur={};H(ur,or("iterator"),function(){return this});var lr=T("IE_PROTO"),sr=Object.prototype,dr=Object.getPrototypeOf||function(t){return t=n(t),o(t,lr)?t[lr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?sr:null},fr=or("iterator"),pr=!([].keys&&"next"in[].keys()),hr=function(){return this},gr=function(t,e,n,r,o,i,a){!function(t,e,n){t.prototype=rr(ur,{next:$(1,n)}),cr(t,e+" Iterator")}(n,e,r);var c,u,l,s=function(t){if(!pr&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f="values"==o,p=!1,h=t.prototype,g=h[fr]||h["@@iterator"]||o&&h[o],v=g||s(o),y=o?f?s("entries"):v:void 0,m="Array"==e&&h.entries||g;if(m&&(l=dr(m.call(new t)))!==Object.prototype&&l.next&&cr(l,d,!0),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),a&&(pr||p||!h[fr])&&H(h,fr,v),Xn[e]=v,Xn[d]=hr,o)if(c={values:f?v:s("values"),keys:i?v:s("keys"),entries:y},a)for(u in c)u in h||Jn(h,u,c[u]);else G(G.P+G.F*(pr||p),e,c);return c};gr(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,zn(1)):zn(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Xn.Arguments=Xn.Array;for(var vr=or("toStringTag"),yr="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),mr=0;mr<yr.length;mr++){var br=yr[mr],_r=m[br],Nr=_r&&_r.prototype;Nr&&!Nr[vr]&&H(Nr,vr,br),Xn[br]=Xn.Array}var Sr=function(t){return function(n,r){var o,i,a=String(e(n)),c=d(r),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(i=a.charCodeAt(c+1))<56320||i>57343?t?a.charAt(c):o:t?a.slice(c,c+2):i-56320+(o-55296<<10)+65536}}(!0);gr(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Sr(e,n),this._i+=t.length,{value:t,done:!1})});var Or,Tr,xr,Er,wr,Pr,kr,jr,Lr,Ar=or("toStringTag"),Ir="Arguments"==a(function(){return arguments}()),Cr=or("iterator"),Mr=y.getIteratorMethod=function(t){if(null!=t)return t[Cr]||t["@@iterator"]||Xn[function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ar))?n:Ir?a(e):"Object"==(r=a(e))&&"function"==typeof e.callee?"Arguments":r}(t)]},Rr=y.getIterator=function(t){var e=Mr(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return L(e.call(t))},Fr=Array.isArray||function(t){return"Array"==yt(t)},Dr=K("species"),Br=(xr=1==(Or=5),Er=2==Or,wr=3==Or,Pr=4==Or,kr=6==Or,jr=5==Or||kr,Lr=Tr||function(t,e){return new(function(t){var e;return Fr(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Fr(e.prototype)||(e=void 0),Q(e)&&null===(e=e[Dr])&&(e=void 0)),void 0===e?Array:e}(t))(e)},function(t,e,n){for(var r,o,i=Zt(t),a=mt(i),c=Tt(e,n,3),u=Lt(a.length),l=0,s=xr?Lr(t,u):Er?Lr(t,0):void 0;u>l;l++)if((jr||l in a)&&(o=c(r=a[l],l,i),Or))if(xr)s[l]=o;else if(o)switch(Or){case 3:return!0;case 5:return r;case 6:return l;case 2:s.push(r)}else if(Pr)return!1;return kr?-1:wr||Pr?Pr:s}),$r=!0;function Hr(t,e){for(var n=t;n;)if((n=n.parentNode)===e)return!0}"find"in[]&&Array(1).find(function(){$r=!1}),Et(Et.P+Et.F*$r,"Array",{find:function(t){return Br(this,t,arguments.length>1?arguments[1]:void 0)}}),pt("find"),document.elementsFromPoint||(document.elementsFromPoint=function(t,e){var n=[],r=void 0;do{r!==document.elementFromPoint(t,e)?(r=document.elementFromPoint(t,e),n.push(r),r.style.pointerEvents="none"):r=!1}while(r);return n.forEach(function(t){return t.style.pointerEvents="all"}),n});var Vr={nothing:function(t){},after:function(t){Gr(t.dplh,t.targetNode,t)},before:function(t){qr(t.targetNode.parent)?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(t!==e){var o=e[r][n],i=o.indexOf(e);o[i-1]!==t&&(t[r]===e[r]?(Ke(o,t),i=o.indexOf(e)):ln(t,e[r]),o.splice(i,0,t))}}(t.dplh,t.targetNode):Gr(t.dplh,t.targetNode.parent,t)},append:function(t){qr(t.targetNode)?(dn(t.dplh,t.targetNode),t.targetNode.open||t.store.toggleOpen(t.targetNode)):Gr(t.dplh,t.targetNode,t)},prepend:function(t){qr(t.targetNode)?(!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(t===e)throw"can't prepend to self";var r=e[n];r[0]!==t&&(ln(t,e),r.splice(0,0,t))}(t.dplh,t.targetNode),t.targetNode.open||t.store.toggleOpen(t.targetNode)):Gr(t.dplh,t.targetNode,t)},"after target parent":function(t){Gr(t.dplh,t.targetNode.parent,t)},"append prev":function(t){qr(t.targetPrev)?(dn(t.dplh,t.targetPrev),t.targetPrev.open||t.store.toggleOpen(t.targetPrev)):Gr(t.dplh,t.targetPrev,t)},"append current tree":function(t){qr(t.currentTree.rootData)&&dn(t.dplh,t.currentTree.rootData)}};function Gr(t,e,n){if(!e)return!1;var r=function(t,e){var n=t;for(;n;){if(e(n))return n;n=n.parent}}(e,function(t){return t.parent&&qr(t.parent)});return!!r&&(sn(t,r),!0)}function Wr(t){var e;Zr.hasOwnProperty(t._id)||(e=t.hasOwnProperty("draggable")?t.draggable:!t.parent||Wr(t.parent),Zr[t._id]=e);return Zr[t._id]}function qr(t){var e;Qr.hasOwnProperty(t._id)||(e=t.hasOwnProperty("droppable")?t.droppable:!t.parent||qr(t.parent),Qr[t._id]=e);return Qr[t._id]}function Yr(t,e,n,r){var o=e.length;if(r)for(var i=o-1;i>=0;i--){var a=e[i];if(a!==t.node&&n(a,i))return a}else for(var c=0;c<o;c++){var u=e[c];if(u!==t.node&&n(u,c))return u}}for(var Ur,zr={"targetNode existed":function(t){return t.targetNode},"targetNode is placeholder":function(t){return t.targetNode.isDragPlaceHolder},"targetNode at top":function(t){return t.targetAtTop},"targetNode at bottom":function(t){return t.targetAtBottom},"targetNode is the second child of root":function(t){return t.currentTreeRootSecondChildExcludingDragging===t.targetNode},"currentTree existed":function(t){return t.currentTree},"currentTree empty":function(t){return!Yr(t,t.currentTree.rootData.children,function(t){return t})},"placeholder existed":function(t){return t.dplhEl},"placeholder in currentTree":function(t){return t.dplhElInCurrentTree},"placeholder at top":function(t){return t.dplhAtTop},"targetNode is open":function(t){return t.targetNode.open},"targetNode has children excluding placeholder":function(t){return Yr(t,t.targetNode.children,function(e){return e!==t.dplh})},"targetNode is 1st child":function(t){return Yr(t,t.targetNode.parent.children,function(t){return t})===t.targetNode},"targetNode is last child":function(t){return Yr(t,t.targetNode.parent.children,function(t){return t},!0)===t.targetNode},"on targetNode middle":function(t){return t.offset.y<=t.tiMiddleY},"at left":function(t){return t.offset.x<t.tiOffset.x},"at indent right":function(t){return t.offset.x>t.tiOffset.x+t.currentTree.indent}},Xr=W(zr),Jr=function(){var t=Xr[Kr],e=zr[t];zr[t]=function(){return Boolean(e.apply(void 0,arguments))}},Kr=0;Kr<Xr.length;Kr++)Jr();var Qr={},Zr={};function to(t){var e=this.store.trees,n=t.store,r={event:t.event,el:n.el,vm:this,node:this.data,store:this.store,dplh:this.store.dplh,draggableHelperData:{opt:t.options,store:n}};!function(t,e,n){var r=function(r){Hn(t,r,{get:function(){var t=this;return e.remember(r,function(){return n[r].call(t)})}})};for(var o in n)r(o)}(r,new Yn,{nodeInnerEl:function(){return this.el.querySelector(".tree-node-inner")},offset:function(){return Qe(this.nodeInnerEl)},offset2:function(){return{x:this.offset.x+this.nodeInnerEl.offsetWidth,y:this.offset.y+this.nodeInnerEl.offsetHeight}},offsetToViewPort:function(){var t=this.nodeInnerEl.getBoundingClientRect();return t.x=t.left,t.y=t.top,t},currentTree:function(){var t=function(t,e,n){var r,o,i=document.elementsFromPoint(t,e),a=[],c=!0,u=!1,l=void 0;try{for(var s,d=Rr(i);!(c=(s=d.next()).done);c=!0){var f=s.value;if(o){if(nn(f,"tree")){r=f;break}a.push(f)}else nn(f,"tree-node")&&(o=f)}}catch(t){u=!0,l=t}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}if(r){var p=!1;if(!Hr(o,r))for(var h=0;h<a.length;h++)if(!Hr(a[h],r)){p=!0;break}if(!p)return n.find(function(t){return t.$el===r})}}(this.offsetToViewPort.x,this.offsetToViewPort.y,e);if(t){var n=this.store;if(null==Ur&&(Ur=n),Ur!==t){if(!Un(n.crossTree)||!Un(t.crossTree))return;Ur=t}if(!Un(t.droppable))return;return t}},currentTreeRootEl:function(){return document.getElementById(this.currentTree.rootData._id)},currentTreeRootOf4:function(){return eo(this.currentTreeRootEl,this.currentTree.space)},currentTreeRootSecondChildExcludingDragging:function(){var t=this;return this.currentTree.rootData.children.slice(0,3).filter(function(e){return e!==t.node})[1]},dplhEl:function(){return document.getElementById(this.dplh._id)},dplhElInCurrentTree:function(){return Boolean(this.currentTree.$el.querySelector("#".concat(this.dplh._id)))},dplhOf4:function(){return eo(this.dplhEl,this.currentTree.space)},dplhAtTop:function(){return Math.abs(this.dplhOf4.y-this.currentTreeRootOf4.y)<5},targetAtTop:function(){return Math.abs(this.tiOf4.y-this.currentTreeRootOf4.y)<5},targetAtBottom:function(){return Math.abs(this.tiOf4.y2-this.currentTreeRootOf4.y2)<5},targetNode:function(){var t=this.currentTree;if(!t)throw"no currentTree";for(var e=this.offset,n=(e.x,e.y),r=t.rootData;;){var o=r.children;if(!o)break;if(this.node.parent===r&&(o=o.slice()).splice(o.indexOf(this.node),1),0===o.length)break;var i=an(o,function(e){var r=document.getElementById(e._id),o=Qe(r).y;return o+r.offsetHeight+t.space<n?-1:o<=n?0:1},null,null,!0);if(!(r=i.hit?i.value:i.bigger?o[i.index-1]:i.value)){r=o[0];break}if(!r)break;var a=eo(document.getElementById(r._id).querySelector(".tree-node-inner"),t.space);if(a.y<=n&&n<=a.y2)break}return r},targetNodeEl:function(){return document.getElementById(this.targetNode._id)},tiInnerEl:function(){return this.targetNodeEl.querySelector(".tree-node-inner")},tiOffset:function(){return Qe(this.tiInnerEl)},tiOf4:function(){return eo(this.tiInnerEl,this.currentTree.space)},tiMiddleY:function(){return this.tiOffset.y+this.tiInnerEl.offsetHeight/2},targetPrevEl:function(){var t=this.targetNodeEl.previousSibling;return nn(t,"dragging")&&(t=t.previousSibling),t},targetPrev:function(){var t=this.targetPrevEl.getAttribute("id");return this.currentTree.getNodeById(t)}});var o={},i=function(t){if(!o.hasOwnProperty(t)){var e;try{e=zr[t](r)}catch(n){e=n;try{process.env.DEVELOPE_SELF&&console.warn("failed to execute rule '".concat(t,"'"),n)}catch(t){}}o[t]=e}return o[t]};!0===i("currentTree existed")?!1===i("targetNode is placeholder")?!0===i("targetNode is the second child of root")?!1===i("targetNode has children excluding placeholder")?!0===i("on targetNode middle")?Vr.before(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?Vr.append(r):!1===i("at indent right")&&Vr.after(r)):!0===i("targetNode has children excluding placeholder")&&Vr.prepend(r):!1===i("targetNode is the second child of root")&&(!1===i("currentTree empty")?!0===i("targetNode at top")?!0===i("placeholder in currentTree")?!1===i("targetNode has children excluding placeholder")?!1===i("on targetNode middle")?!1===i("at indent right")?Vr.after(r):!0===i("at indent right")&&Vr.append(r):!0===i("on targetNode middle")&&Vr.before(r):!0===i("targetNode has children excluding placeholder")&&(!1===i("on targetNode middle")?Vr.prepend(r):!0===i("on targetNode middle")&&Vr.before(r)):!1===i("placeholder in currentTree")&&Vr.before(r):!1===i("targetNode at top")&&(!1===i("targetNode at bottom")?!0===i("placeholder at top")?Vr.prepend(r):!1===i("placeholder at top")&&(!0===i("targetNode has children excluding placeholder")?Vr.prepend(r):!1===i("targetNode has children excluding placeholder")&&(!1===i("targetNode is 1st child")?!1===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at indent right")?Vr.append(r):!1===i("at indent right")&&Vr.after(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?Vr.append(r):!1===i("at indent right")&&Vr.after(r)):!0===i("targetNode is last child")&&(!0===i("at indent right")?Vr.append(r):!1===i("at indent right")&&Vr.after(r)):!0===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?Vr.append(r):!1===i("targetNode is last child")&&(!1===i("on targetNode middle")?!1===i("at indent right")?Vr.after(r):!0===i("at indent right")&&Vr.append(r):!0===i("on targetNode middle")&&(!1===i("at indent right")?Vr.after(r):!0===i("at indent right")&&Vr.append(r)))))):!0===i("targetNode at bottom")&&(!0===i("placeholder in currentTree")?!1===i("on targetNode middle")?!0===i("at indent right")?Vr.append(r):!1===i("at indent right")&&Vr.after(r):!0===i("on targetNode middle")&&Vr.append(r):!1===i("placeholder in currentTree")&&Vr.append(r))):!0===i("currentTree empty")&&Vr["append current tree"](r)):!0===i("targetNode is placeholder")&&(!1===i("targetNode at bottom")?!1===i("targetNode is the second child of root")?!0===i("targetNode is 1st child")?!1===i("targetNode is last child")||!0===i("targetNode is last child")&&(!1===i("on targetNode middle")?!0===i("at left")?Vr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!0===i("at left")?Vr["after target parent"](r):i("at left"))):!1===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at left")?Vr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")?Vr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right"))):!1===i("targetNode is last child")&&(!0===i("on targetNode middle")?!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right"))))):!0===i("targetNode is the second child of root")&&(!0===i("on targetNode middle")?!0===i("at indent right")?Vr["append prev"](r):i("at indent right"):!1===i("on targetNode middle")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right"))):!0===i("targetNode at bottom")&&(!0===i("targetNode is 1st child")?!1===i("on targetNode middle")?!0===i("at left")?Vr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!1===i("at left")||!0===i("at left")&&Vr["after target parent"](r)):!1===i("targetNode is 1st child")&&(!1===i("on targetNode middle")?!0===i("at left")?Vr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right")):!0===i("on targetNode middle")&&(!0===i("at left")?Vr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?Vr["append prev"](r):i("at indent right")))))):i("currentTree existed")}function eo(t,e){var n=Qe(t);return n.x2=n.x+t.offsetWidth,n.y2=n.y+t.offsetHeight+e,n}to.dragStart=function(){},to.dragEnd=function(){Ur=null,Qr={},Zr={}};var no=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTreeNode.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:fn,name:"TreeNode",mounted:function(){var t=this;if(this.store.isNodeDraggable=Wr,this.store.isNodeDroppable=qr,!this.isRoot&&!this.data.isDragPlaceHolder){var e=this.store.dplh;this.$watch("store.draggable",function(n){if(Un(n)){var r=t.store.getTriggerEl?t.store.getTriggerEl(t):t.$el.querySelector(".tree-node-inner");t._draggableDestroy=Bn(r,{preventSelect:Un(t.store.preventSelect),getEl:function(){return t.$el},minTranslate:10,drag:function(n,r,o){to.dragStart();var i={event:n,options:r,store:o};if(t.store.ondragstart&&!1===t.store.ondragstart(t.data,i))return!1;if(!Wr(t.data))return!1;t.store.$emit("drag",t.data);var a=t.data.parent.children;t.startPosition={siblings:a,index:a.indexOf(t.data)},e.innerStyle.height=o.el.offsetHeight+"px",sn(e,t.data),t.data.class+=" dragging"},moving:function(e,n,r){if(0!==r.movedCount){var o={event:e,options:n,store:r};return to.call(t,o)}},drop:function(n,r,o){to.dragEnd();var i={event:n,options:r,store:o};if(t.store.ondragend&&!1===t.store.ondragend(t.data,i))Ke(e.parent.children,e);else{var a=e._vm.store,c=a!==t.store?t.store:null;sn(t.data,e),Ke(e.parent.children,e),t.data.class=t.data.class.replace(/(^| )dragging( |$)/g," "),a.$emit("drop",t.data,a,c),c&&c.$emit("drop",t.data,a,c);var u=t.data.parent.children;u===t.startPosition.siblings&&u.indexOf(t.data)===t.startPosition.index||(t.store.$emit("change",t.data,a,c),c&&c.$emit("change",t.data,a,c)),t.startPosition=null}}})}else t._draggableDestroy&&(t._draggableDestroy(),t._draggableDestroy=null)},{immediate:!0})}}},void 0,void 0),ro=[],oo={_id:"draggable_tree_drag_placeHolder",level:null,droppable:!1,isDragPlaceHolder:!0,class:"draggable-placeholder",style:{},innerStyle:{},innerClass:"draggable-placeholder-inner",innerBackStyle:{},innerBackClass:"draggable-placeholder-inner-back"};var io=function(t,e,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTree.vue",u.render||(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:vn,props:{getTriggerEl:{type:Function},draggable:{},droppable:{default:!0},crossTree:{},ondragstart:{type:Function},ondragend:{type:Function},preventSelect:{default:!0}},components:{TreeNode:no},data:function(){return{dplh:oo,trees:ro}},created:function(){ro.push(this)},mounted:function(){},beforeDestroy:function(){Ke(ro,this)}},void 0,void 0);t.Tree=vn,t.TreeNode=fn,t.DraggableTree=io,t.DraggableTreeNode=no,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=vue-draggable-nested-tree.min.js.map
